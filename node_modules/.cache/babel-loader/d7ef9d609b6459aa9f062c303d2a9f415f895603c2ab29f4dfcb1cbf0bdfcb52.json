{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Desktop/Music/OwnGuitar/src/PianoWithRecording.js\";\nimport React from \"react\";\nimport { Piano, KeyboardShortcuts } from \"./react-piano-master/src/index\";\nimport DimensionsProvider from \"./DimensionsProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DURATION_UNIT = 2.0;\nconst DEFAULT_NOTE_DURATION = DURATION_UNIT;\nconst keyboardShortcuts = KeyboardShortcuts.create({\n  firstNote: 60,\n  lastNote: 77,\n  keyboardConfig: KeyboardShortcuts.HOME_ROW\n});\nclass PianoWithRecording extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      keysDown: {},\n      noteDuration: DEFAULT_NOTE_DURATION\n    };\n    this.onPlayNoteInput = midiNumber => {\n      this.setState({\n        notesRecorded: false\n      });\n    };\n    this.onStopNoteInput = (midiNumber, _ref) => {\n      let {\n        prevActiveNotes\n      } = _ref;\n      if (this.state.notesRecorded === false) {\n        //   this.recordNotes(prevActiveNotes, this.state.noteDuration);\n        this.setState({\n          notesRecorded: true,\n          noteDuration: DEFAULT_NOTE_DURATION\n        });\n      }\n    };\n    this.recordNotes = (midiNumbers, duration) => {\n      if (this.props.isPlaying) {\n        return;\n      }\n      const newEvents = midiNumbers.map(midiNumber => {\n        return {\n          midiNumber,\n          time: this.props.recording.currentTime,\n          duration: duration\n        };\n      });\n      this.props.setRecording({\n        events: this.props.recording.events.concat(newEvents),\n        currentTime: this.props.recording.currentTime + duration\n      });\n    };\n  }\n  render() {\n    const {\n      playNote,\n      stopNote,\n      recording,\n      setRecording,\n      accidentalType,\n      ...pianoProps\n    } = this.props;\n    const {\n      currentEvents\n    } = this.props.recording;\n    const activeNotes = this.props.isPlaying ? currentEvents.map(event => event.midiNumber) : null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(DimensionsProvider, {\n        children: _ref2 => {\n          let {\n            containerWidth,\n            containerHeight\n          } = _ref2;\n          return /*#__PURE__*/_jsxDEV(Piano, {\n            playNote: playNote,\n            stopNote: stopNote,\n            width: containerWidth,\n            height: \"90px\",\n            keyboardShortcuts: containerWidth > 824 && this.props.showMusicalTyping ? keyboardShortcuts : null\n            //   onPlayNoteInput={this.onPlayNoteInput}\n            ,\n            onStopNoteInput: this.onStopNoteInput,\n            activeNotes: activeNotes,\n            accidentalType: accidentalType\n            // noteRange={{ first: 53, last: 81 }}\n            ,\n            ...pianoProps\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n}\nPianoWithRecording.defaultProps = {\n  notesRecorded: false\n};\nexport default PianoWithRecording;","map":{"version":3,"names":["React","Piano","KeyboardShortcuts","DimensionsProvider","DURATION_UNIT","DEFAULT_NOTE_DURATION","keyboardShortcuts","create","firstNote","lastNote","keyboardConfig","HOME_ROW","PianoWithRecording","Component","state","keysDown","noteDuration","onPlayNoteInput","midiNumber","setState","notesRecorded","onStopNoteInput","prevActiveNotes","recordNotes","midiNumbers","duration","props","isPlaying","newEvents","map","time","recording","currentTime","setRecording","events","concat","render","playNote","stopNote","accidentalType","pianoProps","currentEvents","activeNotes","event","containerWidth","containerHeight","showMusicalTyping","defaultProps"],"sources":["/Users/macbook/Desktop/Music/OwnGuitar/src/PianoWithRecording.js"],"sourcesContent":["import React from \"react\";\nimport { Piano, KeyboardShortcuts } from \"./react-piano-master/src/index\";\nimport DimensionsProvider from \"./DimensionsProvider\";\nconst DURATION_UNIT = 2.0;\nconst DEFAULT_NOTE_DURATION = DURATION_UNIT;\nconst keyboardShortcuts = KeyboardShortcuts.create({\n  firstNote: 60,\n  lastNote: 77,\n  keyboardConfig: KeyboardShortcuts.HOME_ROW,\n});\nclass PianoWithRecording extends React.Component {\n  static defaultProps = {\n    notesRecorded: false,\n  };\n  state = {\n    keysDown: {},\n    noteDuration: DEFAULT_NOTE_DURATION,\n  };\n  onPlayNoteInput = (midiNumber) => {\n    this.setState({\n      notesRecorded: false,\n    });\n  };\n  onStopNoteInput = (midiNumber, { prevActiveNotes }) => {\n    if (this.state.notesRecorded === false) {\n      //   this.recordNotes(prevActiveNotes, this.state.noteDuration);\n      this.setState({\n        notesRecorded: true,\n        noteDuration: DEFAULT_NOTE_DURATION,\n      });\n    }\n  };\n  recordNotes = (midiNumbers, duration) => {\n    if (this.props.isPlaying) {\n      return;\n    }\n    const newEvents = midiNumbers.map((midiNumber) => {\n      return {\n        midiNumber,\n        time: this.props.recording.currentTime,\n        duration: duration,\n      };\n    });\n    this.props.setRecording({\n      events: this.props.recording.events.concat(newEvents),\n      currentTime: this.props.recording.currentTime + duration,\n    });\n  };\n  render() {\n    const {\n      playNote,\n      stopNote,\n      recording,\n      setRecording,\n      accidentalType,\n      ...pianoProps\n    } = this.props;\n\n\n    const { currentEvents } = this.props.recording;\n    const activeNotes = this.props.isPlaying\n      ? currentEvents.map((event) => event.midiNumber)\n      : null;\n    return (\n      <div>\n        <DimensionsProvider>\n          {({ containerWidth, containerHeight }) => (\n            <Piano\n              playNote={playNote}\n              stopNote={stopNote}\n              width={containerWidth}\n              height={\"90px\"}\n              keyboardShortcuts={\n                containerWidth > 824 && this.props.showMusicalTyping\n                  ? keyboardShortcuts\n                  : null\n              }\n              //   onPlayNoteInput={this.onPlayNoteInput}\n              onStopNoteInput={this.onStopNoteInput}\n              activeNotes={activeNotes}\n              accidentalType={accidentalType}\n              // noteRange={{ first: 53, last: 81 }}\n              {...pianoProps}\n            />\n          )}\n        </DimensionsProvider>\n      </div>\n    );\n  }\n}\nexport default PianoWithRecording;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}