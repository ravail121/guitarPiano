{"ast":null,"code":"'use strict';\n\nvar note = require('note-parser');\nvar isMidi = function (n) {\n  return n !== null && n !== [] && n >= 0 && n < 129;\n};\nvar toMidi = function (n) {\n  return isMidi(n) ? +n : note.midi(n);\n};\n\n// Adds note name to midi conversion\nmodule.exports = function (player) {\n  if (player.buffers) {\n    var map = player.opts.map;\n    var toKey = typeof map === 'function' ? map : toMidi;\n    var mapper = function (name) {\n      return name ? toKey(name) || name : null;\n    };\n    player.buffers = mapBuffers(player.buffers, mapper);\n    var start = player.start;\n    player.start = function (name, when, options) {\n      var key = mapper(name);\n      var dec = key % 1;\n      if (dec) {\n        key = Math.floor(key);\n        options = Object.assign(options || {}, {\n          cents: Math.floor(dec * 100)\n        });\n      }\n      return start(key, when, options);\n    };\n  }\n  return player;\n};\nfunction mapBuffers(buffers, toKey) {\n  return Object.keys(buffers).reduce(function (mapped, name) {\n    mapped[toKey(name)] = buffers[name];\n    return mapped;\n  }, {});\n}","map":{"version":3,"names":["note","require","isMidi","n","toMidi","midi","module","exports","player","buffers","map","opts","toKey","mapper","name","mapBuffers","start","when","options","key","dec","Math","floor","Object","assign","cents","keys","reduce","mapped"],"sources":["/Users/macbook/Desktop/Music/OwnGuitar/node_modules/sample-player/lib/notes.js"],"sourcesContent":["'use strict'\n\nvar note = require('note-parser')\nvar isMidi = function (n) { return n !== null && n !== [] && n >= 0 && n < 129 }\nvar toMidi = function (n) { return isMidi(n) ? +n : note.midi(n) }\n\n// Adds note name to midi conversion\nmodule.exports = function (player) {\n  if (player.buffers) {\n    var map = player.opts.map\n    var toKey = typeof map === 'function' ? map : toMidi\n    var mapper = function (name) {\n      return name ? toKey(name) || name : null\n    }\n\n    player.buffers = mapBuffers(player.buffers, mapper)\n    var start = player.start\n    player.start = function (name, when, options) {\n      var key = mapper(name)\n      var dec = key % 1\n      if (dec) {\n        key = Math.floor(key)\n        options = Object.assign(options || {}, { cents: Math.floor(dec * 100) })\n      }\n      return start(key, when, options)\n    }\n  }\n  return player\n}\n\nfunction mapBuffers (buffers, toKey) {\n  return Object.keys(buffers).reduce(function (mapped, name) {\n    mapped[toKey(name)] = buffers[name]\n    return mapped\n  }, {})\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,IAAI,GAAGC,OAAO,CAAC,aAAa,CAAC;AACjC,IAAIC,MAAM,GAAG,UAAUC,CAAC,EAAE;EAAE,OAAOA,CAAC,KAAK,IAAI,IAAIA,CAAC,KAAK,EAAE,IAAIA,CAAC,IAAI,CAAC,IAAIA,CAAC,GAAG,GAAG;AAAC,CAAC;AAChF,IAAIC,MAAM,GAAG,UAAUD,CAAC,EAAE;EAAE,OAAOD,MAAM,CAACC,CAAC,CAAC,GAAG,CAACA,CAAC,GAAGH,IAAI,CAACK,IAAI,CAACF,CAAC,CAAC;AAAC,CAAC;;AAElE;AACAG,MAAM,CAACC,OAAO,GAAG,UAAUC,MAAM,EAAE;EACjC,IAAIA,MAAM,CAACC,OAAO,EAAE;IAClB,IAAIC,GAAG,GAAGF,MAAM,CAACG,IAAI,CAACD,GAAG;IACzB,IAAIE,KAAK,GAAG,OAAOF,GAAG,KAAK,UAAU,GAAGA,GAAG,GAAGN,MAAM;IACpD,IAAIS,MAAM,GAAG,UAAUC,IAAI,EAAE;MAC3B,OAAOA,IAAI,GAAGF,KAAK,CAACE,IAAI,CAAC,IAAIA,IAAI,GAAG,IAAI;IAC1C,CAAC;IAEDN,MAAM,CAACC,OAAO,GAAGM,UAAU,CAACP,MAAM,CAACC,OAAO,EAAEI,MAAM,CAAC;IACnD,IAAIG,KAAK,GAAGR,MAAM,CAACQ,KAAK;IACxBR,MAAM,CAACQ,KAAK,GAAG,UAAUF,IAAI,EAAEG,IAAI,EAAEC,OAAO,EAAE;MAC5C,IAAIC,GAAG,GAAGN,MAAM,CAACC,IAAI,CAAC;MACtB,IAAIM,GAAG,GAAGD,GAAG,GAAG,CAAC;MACjB,IAAIC,GAAG,EAAE;QACPD,GAAG,GAAGE,IAAI,CAACC,KAAK,CAACH,GAAG,CAAC;QACrBD,OAAO,GAAGK,MAAM,CAACC,MAAM,CAACN,OAAO,IAAI,CAAC,CAAC,EAAE;UAAEO,KAAK,EAAEJ,IAAI,CAACC,KAAK,CAACF,GAAG,GAAG,GAAG;QAAE,CAAC,CAAC;MAC1E;MACA,OAAOJ,KAAK,CAACG,GAAG,EAAEF,IAAI,EAAEC,OAAO,CAAC;IAClC,CAAC;EACH;EACA,OAAOV,MAAM;AACf,CAAC;AAED,SAASO,UAAU,CAAEN,OAAO,EAAEG,KAAK,EAAE;EACnC,OAAOW,MAAM,CAACG,IAAI,CAACjB,OAAO,CAAC,CAACkB,MAAM,CAAC,UAAUC,MAAM,EAAEd,IAAI,EAAE;IACzDc,MAAM,CAAChB,KAAK,CAACE,IAAI,CAAC,CAAC,GAAGL,OAAO,CAACK,IAAI,CAAC;IACnC,OAAOc,MAAM;EACf,CAAC,EAAE,CAAC,CAAC,CAAC;AACR"},"metadata":{},"sourceType":"script","externalDependencies":[]}